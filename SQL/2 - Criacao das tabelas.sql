-- Tabela de Instituição
CREATE TABLE Instituicao (
    ID_INSTITUICAO NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME VARCHAR2(100) NOT NULL,
    CNPJ VARCHAR2(14) NOT NULL UNIQUE,
    ENDERECO VARCHAR2(200),
    TIPO VARCHAR2(10) CHECK (TIPO IN ('Publica', 'Privada'))
);

-- Tabela de Curso
CREATE TABLE Curso (
    ID_CURSO NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME VARCHAR2(100) NOT NULL,
    TURNO VARCHAR2(20) CHECK (TURNO IN ('Matutino', 'Vespertino', 'Noturno')),
    CARGA_HORARIA NUMBER NOT NULL,
    VALOR_MENSALIDADE NUMBER(10,2),
    ID_INSTITUICAO NUMBER NOT NULL,
    CONSTRAINT FK_CURSO_INSTITUICAO FOREIGN KEY (ID_INSTITUICAO) REFERENCES Instituicao(ID_INSTITUICAO)
);

-- Tabela de Aluno
CREATE TABLE Aluno (
    ID_ALUNO NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME VARCHAR2(100) NOT NULL,
    CPF VARCHAR2(11) NOT NULL UNIQUE,
    DATA_NASCIMENTO DATE NOT NULL,
    SEXO CHAR(1) CHECK (SEXO IN ('M', 'F')),
    RENDA_FAMILIAR NUMBER(10,2)
);

-- Tabela de Bolsa
CREATE TABLE Bolsa (
    ID_BOLSA NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    TIPO VARCHAR2(10) CHECK (TIPO IN ('Integral', 'Parcial')),
    VALOR NUMBER(10,2) NOT NULL,
    STATUS VARCHAR2(10) CHECK (STATUS IN ('Disponivel', 'Concedida', 'Cancelada')),
    ID_CURSO NUMBER NOT NULL,
    ID_ALUNO NUMBER,
    CONSTRAINT FK_BOLSA_CURSO FOREIGN KEY (ID_CURSO) REFERENCES Curso(ID_CURSO),
    CONSTRAINT FK_BOLSA_ALUNO FOREIGN KEY (ID_ALUNO) REFERENCES Aluno(ID_ALUNO)
);

-- Tabela de Seleção
CREATE TABLE Selecao (
    ID_SELECAO NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ID_ALUNO NUMBER NOT NULL,
    NOTA_ENEM NUMBER(5,2) NOT NULL,
    ANO_INSCRICAO NUMBER(4) NOT NULL,
    RESULTADO VARCHAR2(10) CHECK (RESULTADO IN ('Aprovado', 'Reprovado')),
    ID_BOLSA NUMBER NOT NULL,
    CONSTRAINT FK_SELECAO_ALUNO FOREIGN KEY (ID_ALUNO) REFERENCES Aluno(ID_ALUNO),
    CONSTRAINT FK_SELECAO_BOLSA FOREIGN KEY (ID_BOLSA) REFERENCES Bolsa(ID_BOLSA)
);

-- Tabela de Desempenho Acadêmico
CREATE TABLE Desempenho (
    ID_DESEMPENHO NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ID_ALUNO NUMBER NOT NULL,
    ID_CURSO NUMBER NOT NULL,
    SEMESTRE VARCHAR2(6) NOT NULL,
    NOTA_MEDIA NUMBER(4,2),
    FREQUENCIA NUMBER(5,2),
    CONSTRAINT FK_DESEMPENHO_ALUNO FOREIGN KEY (ID_ALUNO) REFERENCES Aluno(ID_ALUNO),
    CONSTRAINT FK_DESEMPENHO_CURSO FOREIGN KEY (ID_CURSO) REFERENCES Curso(ID_CURSO)
);

/*Destaques do Script:
Chaves Primárias e Estrangeiras:

Cada tabela possui uma chave primária (ID) gerada automaticamente.
Chaves estrangeiras conectam as tabelas, garantindo integridade referencial.
Restrições:

NOT NULL para campos obrigatórios.
CHECK para valores predefinidos (como turnos, tipo de bolsa, status, etc.).
Tipos de Dados:

VARCHAR2 para textos.
NUMBER para valores numéricos, com precisão configurada onde necessário.
DATE para datas.*/
